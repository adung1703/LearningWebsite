import {
    Tabs,
    TabsHeader,
    TabsBody,
    Tab,
    TabPanel,
} from "@material-tailwind/react";

const ex = {
    "_id": "674220ec96fc12934afd6119",
    "assignmentId": "672825dca3d13cf11c794590",
    "userId": "671a4a7901cb6ffdd1f826fc",
    "submission_detail": [
        {
            "testcases": {
                "public": [
                    {
                        "input": "3 5",
                        "expected_output": "8\n",
                        "output": "8\n",
                        "status": "correct",
                        "_id": "674220ec96fc12934afd611b"
                    },
                    {
                        "input": "3 4",
                        "expected_output": "7\n",
                        "output": "7\n",
                        "status": "correct",
                        "_id": "674220ec96fc12934afd611c"
                    },
                    {
                        "input": "1 5",
                        "expected_output": "6\n",
                        "output": "6\n",
                        "status": "correct",
                        "_id": "674220ec96fc12934afd611d"
                    }
                ],
                "private": [
                    {
                        "status": "correct",
                        "input": "7 8",
                        "_id": "674220ec96fc12934afd611e"
                    },
                    {
                        "status": "correct",
                        "input": "0 0",
                        "_id": "674220ec96fc12934afd611f"
                    },
                    {
                        "status": "correct",
                        "input": "-3 3",
                        "_id": "674220ec96fc12934afd6120"
                    },
                    {
                        "status": "correct",
                        "input": "-5 -4",
                        "_id": "674220ec96fc12934afd6121"
                    },
                    {
                        "status": "correct",
                        "input": "10 25",
                        "_id": "674220ec96fc12934afd6122"
                    },
                    {
                        "status": "correct",
                        "input": "123 456",
                        "_id": "674220ec96fc12934afd6123"
                    },
                    {
                        "status": "correct",
                        "input": "1000 2000",
                        "_id": "674220ec96fc12934afd6124"
                    },
                    {
                        "status": "correct",
                        "input": "-1000 1000",
                        "_id": "674220ec96fc12934afd6125"
                    },
                    {
                        "status": "correct",
                        "input": "99999 1",
                        "_id": "674220ec96fc12934afd6126"
                    },
                    {
                        "status": "correct",
                        "input": "-32768 32767",
                        "_id": "674220ec96fc12934afd6127"
                    }
                ]
            },
            "content": [
                "function sum(a, b) { return a + b;}"
            ],
            "submit_at": "2024-11-23T18:36:03.629Z",
            "score": 10,
            "_id": "674220ec96fc12934afd611a"
        },
        {
            "testcases": {
                "public": [
                    {
                        "input": "3 5",
                        "expected_output": "8\n",
                        "output": "8\n",
                        "status": "correct",
                        "_id": "674224b796fc12934afd6a14"
                    },
                    {
                        "input": "3 4",
                        "expected_output": "7\n",
                        "output": "7\n",
                        "status": "correct",
                        "_id": "674224b796fc12934afd6a15"
                    },
                    {
                        "input": "1 5",
                        "expected_output": "6\n",
                        "output": "6\n",
                        "status": "correct",
                        "_id": "674224b796fc12934afd6a16"
                    }
                ],
                "private": [
                    {
                        "status": "correct",
                        "input": "7 8",
                        "_id": "674224b796fc12934afd6a17"
                    },
                    {
                        "status": "correct",
                        "input": "0 0",
                        "_id": "674224b796fc12934afd6a18"
                    },
                    {
                        "status": "correct",
                        "input": "-3 3",
                        "_id": "674224b796fc12934afd6a19"
                    },
                    {
                        "status": "correct",
                        "input": "-5 -4",
                        "_id": "674224b796fc12934afd6a1a"
                    },
                    {
                        "status": "correct",
                        "input": "10 25",
                        "_id": "674224b796fc12934afd6a1b"
                    },
                    {
                        "status": "correct",
                        "input": "123 456",
                        "_id": "674224b796fc12934afd6a1c"
                    },
                    {
                        "status": "correct",
                        "input": "1000 2000",
                        "_id": "674224b796fc12934afd6a1d"
                    },
                    {
                        "status": "correct",
                        "input": "-1000 1000",
                        "_id": "674224b796fc12934afd6a1e"
                    },
                    {
                        "status": "correct",
                        "input": "99999 1",
                        "_id": "674224b796fc12934afd6a1f"
                    },
                    {
                        "status": "correct",
                        "input": "-32768 32767",
                        "_id": "674224b796fc12934afd6a20"
                    }
                ]
            },
            "content": [
                "function sum(a, b) { return a + b;}"
            ],
            "submit_at": "2024-11-23T18:36:03.629Z",
            "score": 10,
            "_id": "674224b796fc12934afd6a13"
        },
        {
            "testcases": {
                "public": [
                    {
                        "input": "3 5",
                        "expected_output": "8\n",
                        "output": "8\n",
                        "status": "correct",
                        "_id": "674224be96fc12934afd6af3"
                    },
                    {
                        "input": "3 4",
                        "expected_output": "7\n",
                        "output": "7\n",
                        "status": "correct",
                        "_id": "674224be96fc12934afd6af4"
                    },
                    {
                        "input": "1 5",
                        "expected_output": "6\n",
                        "output": "6\n",
                        "status": "correct",
                        "_id": "674224be96fc12934afd6af5"
                    }
                ],
                "private": [
                    {
                        "status": "correct",
                        "input": "7 8",
                        "_id": "674224be96fc12934afd6af6"
                    },
                    {
                        "status": "correct",
                        "input": "0 0",
                        "_id": "674224be96fc12934afd6af7"
                    },
                    {
                        "status": "correct",
                        "input": "-3 3",
                        "_id": "674224be96fc12934afd6af8"
                    },
                    {
                        "status": "correct",
                        "input": "-5 -4",
                        "_id": "674224be96fc12934afd6af9"
                    },
                    {
                        "status": "correct",
                        "input": "10 25",
                        "_id": "674224be96fc12934afd6afa"
                    },
                    {
                        "status": "correct",
                        "input": "123 456",
                        "_id": "674224be96fc12934afd6afb"
                    },
                    {
                        "status": "correct",
                        "input": "1000 2000",
                        "_id": "674224be96fc12934afd6afc"
                    },
                    {
                        "status": "correct",
                        "input": "-1000 1000",
                        "_id": "674224be96fc12934afd6afd"
                    },
                    {
                        "status": "correct",
                        "input": "99999 1",
                        "_id": "674224be96fc12934afd6afe"
                    },
                    {
                        "status": "correct",
                        "input": "-32768 32767",
                        "_id": "674224be96fc12934afd6aff"
                    }
                ]
            },
            "content": [
                "function sum(a, b) { return a + b;}"
            ],
            "submit_at": "2024-11-23T18:36:03.629Z",
            "score": 10,
            "_id": "674224be96fc12934afd6af2"
        },
        {
            "testcases": {
                "public": [
                    {
                        "input": "3 5",
                        "expected_output": "8\n",
                        "output": "8\n",
                        "status": "correct",
                        "_id": "674224c696fc12934afd6be0"
                    },
                    {
                        "input": "3 4",
                        "expected_output": "7\n",
                        "output": "7\n",
                        "status": "correct",
                        "_id": "674224c696fc12934afd6be1"
                    },
                    {
                        "input": "1 5",
                        "expected_output": "6\n",
                        "output": "6\n",
                        "status": "correct",
                        "_id": "674224c696fc12934afd6be2"
                    }
                ],
                "private": [
                    {
                        "status": "correct",
                        "input": "7 8",
                        "_id": "674224c696fc12934afd6be3"
                    },
                    {
                        "status": "correct",
                        "input": "0 0",
                        "_id": "674224c696fc12934afd6be4"
                    },
                    {
                        "status": "correct",
                        "input": "-3 3",
                        "_id": "674224c696fc12934afd6be5"
                    },
                    {
                        "status": "correct",
                        "input": "-5 -4",
                        "_id": "674224c696fc12934afd6be6"
                    },
                    {
                        "status": "correct",
                        "input": "10 25",
                        "_id": "674224c696fc12934afd6be7"
                    },
                    {
                        "status": "correct",
                        "input": "123 456",
                        "_id": "674224c696fc12934afd6be8"
                    },
                    {
                        "status": "correct",
                        "input": "1000 2000",
                        "_id": "674224c696fc12934afd6be9"
                    },
                    {
                        "status": "correct",
                        "input": "-1000 1000",
                        "_id": "674224c696fc12934afd6bea"
                    },
                    {
                        "status": "correct",
                        "input": "99999 1",
                        "_id": "674224c696fc12934afd6beb"
                    },
                    {
                        "status": "correct",
                        "input": "-32768 32767",
                        "_id": "674224c696fc12934afd6bec"
                    }
                ]
            },
            "content": [
                "function sum(a, b) { return a + b;}"
            ],
            "submit_at": "2024-11-23T18:36:03.629Z",
            "score": 10,
            "_id": "674224c696fc12934afd6bdf"
        },
        {
            "testcases": {
                "public": [
                    {
                        "input": "3 5",
                        "expected_output": "8\n",
                        "output": "8\n",
                        "status": "correct",
                        "_id": "6742268496fc12934afd6e9b"
                    },
                    {
                        "input": "3 4",
                        "expected_output": "7\n",
                        "output": "7\n",
                        "status": "correct",
                        "_id": "6742268496fc12934afd6e9c"
                    },
                    {
                        "input": "1 5",
                        "expected_output": "6\n",
                        "output": "6\n",
                        "status": "correct",
                        "_id": "6742268496fc12934afd6e9d"
                    }
                ],
                "private": [
                    {
                        "status": "correct",
                        "input": "7 8",
                        "_id": "6742268496fc12934afd6e9e"
                    },
                    {
                        "status": "correct",
                        "input": "0 0",
                        "_id": "6742268496fc12934afd6e9f"
                    },
                    {
                        "status": "correct",
                        "input": "-3 3",
                        "_id": "6742268496fc12934afd6ea0"
                    },
                    {
                        "status": "correct",
                        "input": "-5 -4",
                        "_id": "6742268496fc12934afd6ea1"
                    },
                    {
                        "status": "correct",
                        "input": "10 25",
                        "_id": "6742268496fc12934afd6ea2"
                    },
                    {
                        "status": "correct",
                        "input": "123 456",
                        "_id": "6742268496fc12934afd6ea3"
                    },
                    {
                        "status": "correct",
                        "input": "1000 2000",
                        "_id": "6742268496fc12934afd6ea4"
                    },
                    {
                        "status": "correct",
                        "input": "-1000 1000",
                        "_id": "6742268496fc12934afd6ea5"
                    },
                    {
                        "status": "correct",
                        "input": "99999 1",
                        "_id": "6742268496fc12934afd6ea6"
                    },
                    {
                        "status": "correct",
                        "input": "-32768 32767",
                        "_id": "6742268496fc12934afd6ea7"
                    }
                ]
            },
            "content": [
                "function sum(a, b) { return a + b;}"
            ],
            "submit_at": "2024-11-23T18:36:03.629Z",
            "score": 10,
            "_id": "6742268496fc12934afd6e9a"
        },
        {
            "content": [
                "function sum(a, b) { return a + b;}"
            ],
            "testcases": {
                "public": [
                    {
                        "input": "3 5",
                        "expected_output": "8\n",
                        "output": "8\n",
                        "status": "correct",
                        "_id": "67422b1086fe7000154af69b"
                    },
                    {
                        "input": "3 4",
                        "expected_output": "7\n",
                        "output": "7\n",
                        "status": "correct",
                        "_id": "67422b1086fe7000154af69c"
                    },
                    {
                        "input": "1 5",
                        "expected_output": "6\n",
                        "output": "6\n",
                        "status": "correct",
                        "_id": "67422b1086fe7000154af69d"
                    }
                ],
                "private": [
                    {
                        "status": "correct",
                        "input": "7 8",
                        "your_output": "15\n",
                        "_id": "67422b1086fe7000154af69e"
                    },
                    {
                        "status": "correct",
                        "input": "0 0",
                        "your_output": "0\n",
                        "_id": "67422b1086fe7000154af69f"
                    },
                    {
                        "status": "correct",
                        "input": "-3 3",
                        "your_output": "0\n",
                        "_id": "67422b1086fe7000154af6a0"
                    },
                    {
                        "status": "correct",
                        "input": "-5 -4",
                        "your_output": "-9\n",
                        "_id": "67422b1086fe7000154af6a1"
                    },
                    {
                        "status": "correct",
                        "input": "10 25",
                        "your_output": "35\n",
                        "_id": "67422b1086fe7000154af6a2"
                    },
                    {
                        "status": "correct",
                        "input": "123 456",
                        "your_output": "579\n",
                        "_id": "67422b1086fe7000154af6a3"
                    },
                    {
                        "status": "correct",
                        "input": "1000 2000",
                        "your_output": "3000\n",
                        "_id": "67422b1086fe7000154af6a4"
                    },
                    {
                        "status": "correct",
                        "input": "-1000 1000",
                        "your_output": "0\n",
                        "_id": "67422b1086fe7000154af6a5"
                    },
                    {
                        "status": "correct",
                        "input": "99999 1",
                        "your_output": "100000\n",
                        "_id": "67422b1086fe7000154af6a6"
                    },
                    {
                        "status": "correct",
                        "input": "-32768 32767",
                        "your_output": "-1\n",
                        "_id": "67422b1086fe7000154af6a7"
                    }
                ]
            },
            "submit_at": "2024-11-23T19:20:28.900Z",
            "score": 10,
            "_id": "67422b1086fe7000154af69a"
        }
    ],
    "highest_score": 10,
    "submit_count": 6,
    "__v": 5
}

const lastSubmission = ex.submission_detail[ex.submission_detail.length - 1];

const publicTestCases = lastSubmission.testcases.public.map((testCase) => (
    <tr className="hover:bg-slate-700" key={testCase._id}>
        <td className="p-4 border-b border-r border-slate-700">
            <p className="text-sm text-slate-100 font-semibold">
                {testCase.input.split('\n').map((line, index) => (
                    <span key={index}>{line}<br /></span>
                ))}
            </p>
        </td>
        <td className="p-4 border-b border-r border-slate-700">
            <p className="text-sm text-slate-300">
                {testCase.expected_output}
            </p>
        </td>
        <td className="p-4 border-b border-r border-slate-700">
            <p className="text-sm text-slate-300">
                {testCase.output}
            </p>
        </td>
        <td className="p-4 border-b border-r border-slate-700">
            <p className={`text-sm ${testCase.status === 'correct' ? 'text-green-500' : 'text-red-500'}`}>
                {testCase.status}
            </p>
        </td>
    </tr>
));

const privateTestCases = lastSubmission.testcases.private.map((testCase) => (
    <tr className="hover:bg-slate-700" key={testCase._id}>
        <td className="p-4 border-b border-r border-slate-700">
            <p className="text-sm text-slate-100 font-semibold">
                {testCase.input}
            </p>
        </td>
        <td className="p-4 border-b border-r border-slate-700">
            <p className="text-sm text-slate-300">
                {testCase.your_output}
            </p>
        </td>
        <td className="p-4 border-b border-r border-slate-700">
            <p className={`text-sm ${testCase.status === 'correct' ? 'text-green-500' : 'text-red-500'}`}>
                {testCase.status}
            </p>
        </td>
    </tr>
));

const history = ex.submission_detail.map((submission) => (
    <tr key={submission._id} className="hover:bg-slate-50">
        <td className="p-4 border-b border-r">
            <p className="text-sm">
                {submission.score}
            </p>
        </td>
        <td className="p-4 border-b border-r">
            <p className="text-sm font-bold">
                {new Date(submission.submit_at).toLocaleString()}
            </p>
        </td>
        <td className="p-4 border-b border-r">
            <a href="#" className="text-sm font-semibold ">
                Edit
            </a>
        </td>
    </tr>
));

/*

                            <tr class="hover:bg-slate-50">
                                <td class="p-4">
                                    <p class="text-sm font-bold">
                                        Project Alpha
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        01/01/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        30/06/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        John Michael
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        $50,000
                                    </p>
                                </td>
                                <td class="p-4">
                                    <a href="#" class="text-sm font-semibold ">
                                        Edit
                                    </a>
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4">
                                    <p class="text-sm font-bold">
                                        Beta Campaign
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        15/02/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        15/08/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        Alexa Liras
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        $75,000
                                    </p>
                                </td>
                                <td class="p-4">
                                    <a href="#" class="text-sm font-semibold ">
                                        Edit
                                    </a>
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4">
                                    <p class="text-sm font-bold">
                                        Campaign Delta
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        01/03/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        01/09/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        Laurent Perrier
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        $60,000
                                    </p>
                                </td>
                                <td class="p-4">
                                    <a href="#" class="text-sm font-semibold ">
                                        Edit
                                    </a>
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4">
                                    <p class="text-sm font-bold">
                                        Gamma Outreach
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        10/04/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        10/10/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        Michael Levi
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        $80,000
                                    </p>
                                </td>
                                <td class="p-4">
                                    <a href="#" class="text-sm font-semibold ">
                                        Edit
                                    </a>
                                </td>
                            </tr>
                            <tr class="hover:bg-slate-50">
                                <td class="p-4">
                                    <p class="text-sm font-bold">
                                        Omega Strategy
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        01/05/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        01/11/2024
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        Richard Gran
                                    </p>
                                </td>
                                <td class="p-4">
                                    <p class="text-sm">
                                        $100,000
                                    </p>
                                </td>
                                <td class="p-4">
                                    <a href="#" class="text-sm font-semibold ">
                                        Edit
                                    </a>
                                </td>
                            </tr>
*/

export default function TabsDefault() {

    const data = [
        {
            label: "Test Case Công Khai",
            value: "public",
            desc: <div className="relative flex flex-col w-full h-full overflow-scroll text-slate-300 bg-slate-800 shadow-md rounded-lg bg-clip-border">
                <table className="w-full text-left table-auto min-w-max">
                    <thead>
                        <tr>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Input
                                </p>
                            </th>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Expected Output
                                </p>
                            </th>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Your Output
                                </p>
                            </th>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Status
                                </p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {publicTestCases}
                    </tbody>
                </table>
            </div>,
        },
        {
            label: "Test Case Ẩn",
            value: "private",
            desc: <div className="relative flex flex-col w-full h-full overflow-scroll text-slate-300 bg-slate-800 shadow-md rounded-lg bg-clip-border">
                <table className="w-full text-left table-auto min-w-max">
                    <thead>
                        <tr>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Input
                                </p>
                            </th>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Your Output
                                </p>
                            </th>
                            <th className="p-4 border-b border-r border-slate-600 bg-slate-700">
                                <p className="text-sm font-bold leading-none text-slate-300">
                                    Status
                                </p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {privateTestCases}
                    </tbody>
                </table>
            </div>
        },
        {
            label: "Lịch Sử Nộp Bài",
            value: "history",
            desc:
                <div class="relative flex flex-col w-full h-full overflow-scroll text-gray-700 bg-white shadow-md rounded-lg bg-clip-border">
                    <table class="w-full text-left table-auto min-w-max text-slate-800">
                        <thead>
                            <tr class="text-slate-500 border-b border-r border-slate-300 bg-slate-50">
                                <th class="p-4 border-r">
                                    <p class="text-sm leading-none font-normal">
                                        Điểm
                                    </p>
                                </th>
                                <th class="p-4">
                                    <p class="text-sm leading-none font-normal">
                                        Thời gian
                                    </p>
                                </th>
                                <th class="p-4 border-r">
                                    <p></p>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            {history}
                        </tbody>
                    </table>
                </div>
        }
    ];

    return (
        <Tabs value="html">
            <TabsHeader>
                {data.map(({ label, value }) => (
                    <Tab key={value} value={value}>
                        <strong>{label}</strong>
                    </Tab>
                ))}
            </TabsHeader>
            <hr style={{ borderTop: "1px solid black" }} />
            <TabsBody>
                {data.map(({ value, desc }) => (
                    <TabPanel key={value} value={value}>
                        {desc}
                    </TabPanel>
                ))}
            </TabsBody>
        </Tabs>
    );
}